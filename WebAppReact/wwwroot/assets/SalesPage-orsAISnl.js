import{l as M,u as _,r as o,b as z,c as V,j as e,e as A,L as D,g as F,h as O,i as R,k as E,M as T}from"./index-DAMwrz_R.js";import{A as r,a as t}from"./useFetchDataStore-nJBCbooK.js";import{c as b}from"./TypesForm-D4Kl22kW.js";import{P as q}from"./ProductForm-C-aohAnz.js";import{S as B}from"./SeachInput-Dr05qpVN.js";import"./useCategoriesStore-MB5GmBjJ.js";const G=M(n=>({sales:[],setInvoices:i=>n({sales:i})})),Y=()=>{const{t:n}=_(),[i,c]=o.useState(b),[p,w]=o.useState(""),[f,H]=o.useState(1);o.useState(25);const[j,x]=o.useState(!1),{auth:S}=z(s=>({auth:s.auth})),{isLoading:a,setIsLoading:u}=V(s=>({isLoading:s.isLoading,setIsLoading:s.setIsLoading})),{sales:l,setSales:d}=G(s=>({sales:s.sales,setSales:s.setSales}));o.useEffect(()=>{c(s=>({...s,uid_creacion:S.userData.id_usuario})),Object.values(l).length==0&&a==!1&&g()},[]);const g=o.useCallback(async()=>{await r({setStore:d,url:`${t.sale.sales.url}?page_size=25&page_number=${f}`,method:t.sale.sales.method,setIsLoading:u})},[r,f]),v=s=>{const{name:h,value:m,type:L,checked:$}=s.target,C=L==="checkbox"?$?1:0:m;c(P=>({...P,[h]:C}))},y=async s=>{var h,m;s.preventDefault(),console.log(i),await r({setStore:d,url:t.product.save.url,method:t.product.save.method,body:i,setIsLoading:u}),(h=l==null?void 0:l.data)!=null&&h.response&&console.log((m=l==null?void 0:l.data)==null?void 0:m.response)},k=()=>x(!0),I=()=>{c(b),x(!1)},N=async()=>{p.trim().length>0?await r({setStore:d,url:`${t.sale.sales.url}?value=${p}`,method:t.sale.sales.method,setIsLoading:u}):await r({setStore:d,url:`${t.sale.sales.url}?page_size=25&page_number=${f}`,method:t.sale.sales.method,setIsLoading:u})};return e.jsx(A,{children:e.jsxs("div",{className:"flex-1 w-full",children:[e.jsxs("section",{className:"bg-white px-4 pt-4 inline-flex justify-between items-center w-full border-b mb-4 ",children:[e.jsxs("h1",{className:"text-2xl font-semibold mb-1 pr-4 inline-flex items-center gap-2",children:[e.jsxs(D,{to:"/",children:[" ",n("home.title")]}),e.jsx(F,{}),e.jsx("span",{children:n("Sales.title")})]}),e.jsx("span",{children:e.jsx("button",{className:"bg-orange-400 text-white p-1 shadow hover:scale-95",value:"refresh",onClick:N,children:e.jsx(O,{})})})]}),e.jsx("section",{className:"w-full bg-white divide-y border-b pb-4 mb-2.5",children:e.jsxs("section",{className:"w-full px-5 mx-auto flex justify-between items-center",children:[e.jsx("div",{className:"w-44",children:e.jsxs("button",{className:`inline-flex gap-4 max-w-32 rounded-sm w-full min-w-20 outline-green-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden capitalize group ${a?"bg-green-600/50":"bg-green-600 active:scale-95 shadow"}`,onClick:k,type:"submit",disabled:a,children:[e.jsx(R,{}),n("categories.new"),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${a?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("div",{className:"inline-flex",children:[e.jsx(B,{searchValue:p,setSearchValue:w}),e.jsxs("button",{className:`max-w-24 outline-sky-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${a?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,onClick:g,type:"button",disabled:a,children:[e.jsx(E,{}),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${a?"animate-shineInfinity":"group-hover:animate-shine"} `})]})]})]})}),e.jsx(T,{isOpen:j,onClose:I,children:e.jsx(q,{isLoading:a,formValues:i,setFormValue:c,handleChange:v,handleSubmit:y})})]})})};export{Y as default};
//# sourceMappingURL=SalesPage-orsAISnl.js.map

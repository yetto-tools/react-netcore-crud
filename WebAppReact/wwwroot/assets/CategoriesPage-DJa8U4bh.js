import{c as M,P as m,b,j as e,r as d,u as V,L as E,M as F}from"./index-BmJFwXsG.js";import{u as P}from"./useFetchDataStore-BZn7C0cX.js";import{A as h}from"./Endpoints-DaXX02vq.js";const R=M(l=>({categories:[],setCategories:i=>l({categories:i})})),y={id:0,nombre:"",descripcion:"",estado:1,uid_creacion:"",comentario:""},j=({loading:l,formValues:i,handleChange:o,handleSubmit:r})=>{const{t:a}=b();return e.jsx(e.Fragment,{children:e.jsx("section",{className:"md:w-10/12 min-h-96 flex flex-col justify-between items-center mx-auto my-10 border",children:e.jsxs("form",{className:"flex flex-wrap justify-between items-center gap-x-4 p-10",children:[e.jsxs("div",{className:"flex justify-between items-center gap-4 w-full",children:[e.jsx("section",{className:"w-10/12 mx-auto inline-flex justify-start",children:e.jsxs("button",{className:`max-w-24 w-full min-w-20 outline-green-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${l?"bg-green-600/50":"bg-green-600 active:scale-95 shadow"}`,onClick:r,type:"submit",disabled:l,children:[a("categories.save"),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${l?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.state")}),e.jsx("input",{type:"checkbox",name:"estado",className:"px-2 py-1.5 border outline-none focus:border-sky-500 w-5 h-10 bg-slate-50",placeholder:a("categories.form.field.state"),onChange:o,value:i.estado,checked:!0,required:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[e.jsxs("label",{className:"flex-1 flex-col hidden",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.id")}),e.jsx("input",{type:"hidden",name:"id",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.id"),onChange:o,value:i.id,disabled:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.name")}),e.jsx("input",{type:"nombre",name:"nombre",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.name"),onChange:o,value:i.nombre,required:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.description")}),e.jsx("input",{type:"text",name:"descripcion",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.description"),onChange:o,value:i.descripcion,required:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col hidden",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.created")}),e.jsx("input",{type:"hidden",name:"uid_creacion",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.created"),value:Number(i.uid_creacion),onChange:o,required:!0,disabled:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.comment")}),e.jsx("textarea",{rows:"4",cols:"50",name:"comentario",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.comment"),onChange:o,value:i.comentario})]})]})]})})})};j.propTypes={loading:m.bool,formValues:m.object,handleChange:m.func,handleSubmit:m.func};const N=({searchValue:l,setSearchValue:i})=>{const{t:o}=b(),[r,a]=d.useState("");d.useEffect(()=>{const c=setTimeout(()=>{i(r.trim())},500);return()=>{clearTimeout(c)}},[r]);const x=c=>{c.preventDefault(),a(c.target.value)};return e.jsx("input",{type:"text",className:"border pl-2 outline-none focus:border-sky-400",value:r,onChange:x,placeholder:o("categories.search")})};N.propTypes={searchValue:m.string,setSearchValue:m.func};const G=()=>{const{t:l}=b(),[i,o]=d.useState(y),[r,a]=d.useState(""),{user:x}=V(s=>({user:s.user}));R(s=>({setCategory:s.setCategory}));const{callApi:c,data:_,getData:g,refreshData:q,loading:t,error:O}=P(s=>({callApi:s.callApi,data:s.data,getData:s.getData,refreshData:s.refreshData,loading:s.loading,error:s.error})),u=g(h.categories.url);d.useEffect(()=>{var n;const s=((n=x==null?void 0:x.userData)==null?void 0:n.id_usuario)||0;o(p=>({...p,uid_creacion:s}))},[c]);const v=s=>{s.preventDefault();const{name:n,value:p,type:D,checked:I}=s.target,T=D==="checkbox"?I?1:0:p;o(A=>({...A,[n]:T}))},k=s=>{s.preventDefault(),console.log(i);const n=i;console.log(n),c(`${h.categories.url}/save`,"PUT",n)},f=g(`${h.categories.url}/save`);d.useEffect(()=>{f.Result[0]&&console.log(f.Result[0].Result)},[f]);const[z,w]=d.useState(!1),$=()=>w(!0),C=()=>{o(y),w(!1)},S=s=>{s.preventDefault(),console.log(r)};return e.jsx(E,{children:e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("section",{className:"bg-white px-4 py-4",children:e.jsx("h1",{className:"text-2xl font-semibold border-b pb-1 mb-4 ",children:l("categories.title")})}),e.jsx("section",{className:"w-full bg-white divide-y border-b pb-4 mb-2.5",children:e.jsxs("section",{className:"w-full px-5 mx-auto flex justify-between items-center",children:[e.jsx("div",{children:e.jsxs("button",{className:`max-w-24 w-full min-w-20 outline-green-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${t?"bg-green-600/50":"bg-green-600 active:scale-95 shadow"}`,onClick:$,type:"submit",disabled:t,children:[l("categories.new"),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${t?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("div",{className:"inline-flex",children:[e.jsx(N,{searchValue:r,setSearchValue:a}),e.jsxs("button",{className:`max-w-24 w-full min-w-20 outline-sky-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${t?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,onClick:S,type:"button",disabled:t,children:[l("categories.search"),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${t?"animate-shineInfinity":"group-hover:animate-shine"} `})]})]})]})}),e.jsx("section",{className:"md:w-10/12 lg:w-full min-h-96 flex flex-col justify-between items-center mx-auto ",children:e.jsxs("div",{className:"w-full h-96 flex justify-between items-center flex-col border mb-4 pb-2",children:[e.jsxs("article",{className:"w-full flex mx-auto border justify-between items-center gap-4 px-4 bg-gray-800 text-white",children:[e.jsxs("div",{className:"w-4/12 text-left",children:[e.jsx("span",{className:"capitalize font-semibold",children:l("categories.form.field.name")})," "]}),e.jsxs("div",{className:"w-4/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:l("categories.form.field.description")})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:l("categories.form.field.state")})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:l("categories.change")})," "]})]}),u&&u.map((s,n)=>e.jsxs("article",{className:`w-full flex mx-auto border justify-between items-center gap-4 px-4 text-slate-800 ${n%2==0?"bg-slate-100":"bg-slate-50"} `,children:[e.jsxs("div",{className:"w-4/12 text-left",children:[e.jsx("span",{className:"capitalize font-semibold",children:s.nombre})," "]}),e.jsxs("div",{className:"w-4/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:s.descripcion})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:s.estado})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:e.jsx("button",{type:"button",children:l("categories.change")})})," "]})]},`${s.id}${n}`)),e.jsx("footer",{className:"relative bottom-0  w-full lg:w-5/12 mx-auto flex justify-between items-center mt-4",children:e.jsxs("div",{className:"w-8/12 mx-auto flex justify-between items-center",children:[e.jsx("div",{className:"",children:e.jsxs("button",{className:`border text-white shadow font-semibold px-2 py-1.5 w-10 h-10 relative overflow-hidden group ${t?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,type:"button",disabled:t,children:["<",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${t?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsx("div",{className:"",children:e.jsxs("button",{className:`border text-white shadow font-semibold px-2 py-1.5 w-10 h-10 relative overflow-hidden group ${t?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,type:"button",disabled:t,children:["<<",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${t?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("div",{className:"border text-center",children:[e.jsx("select",{className:"w-16 h-10 px-2.5 py-1.5 text-sm font-semibold border-none focus:border-sky-400 text-center",children:e.jsx("option",{value:"1",children:"1"})}),e.jsx("span",{className:"w-16 h-10 px-2.5 py-1.5 text-sm ",children:"/"}),e.jsx("input",{className:"w-16 h-10 px-2.5 py-1.5 text-sm outline-none text-center",value:u.length,readOnly:!0,disabled:!0})]}),e.jsx("div",{className:"",children:e.jsxs("button",{className:`border text-white shadow font-semibold px-2 py-1.5 w-10 h-10 relative overflow-hidden group ${t?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,type:"button",disabled:t,children:[">>",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${t?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsx("div",{className:"",children:e.jsxs("button",{className:`border text-white shadow font-semibold px-2 py-1.5 w-10 h-10 relative overflow-hidden group ${t?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,type:"button",disabled:t,children:[">",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${t?"animate-shineInfinity":"group-hover:animate-shine"} `})]})})]})})]})}),e.jsx(F,{isOpen:z,onClose:C,children:e.jsx(j,{loading:t,formValues:i,handleChange:v,handleSubmit:k})})]})})};export{G as default};
//# sourceMappingURL=CategoriesPage-DJa8U4bh.js.map

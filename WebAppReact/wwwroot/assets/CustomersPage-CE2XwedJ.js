import{l as I,u as z,r as t,b as A,j as e,e as _,L as M,g as V,h as E,i as F,k as R,M as L}from"./index-BixVhsTF.js";import{A as O,a as c}from"./useFetchDataStore-C822Wo31.js";import{a as p}from"./TypesForm-w-uCFRmv.js";import{P as T}from"./ProductForm-ft2OopYq.js";import{S as q}from"./SeachInput-Df7GhtDg.js";import"./useCategoriesStore-b5A3i-RL.js";const B=I(r=>({customers:[],setCustomers:o=>r({customers:o})})),ee=()=>{const{t:r}=z(),[o,n]=t.useState(p),[f,x]=t.useState(""),[l,G]=t.useState(1),[u,H]=t.useState(25),[g,m]=t.useState(!1);A(s=>({user:s.auth})),B(s=>({setProduct:s.setProduct}));const{callApi:b,data:J,getData:w,refreshData:h,loading:a,error:K}=O(s=>({callApi:s.callApi,data:s.data,getData:s.getData,refreshData:s.refreshData,loading:s.loading,error:s.error}));w(`${c.product.products.url}?page_size=${u}&page_number=${l}`),t.useEffect(()=>{var s;(s=user==null?void 0:user.userData)!=null&&s.id_usuario&&n(d=>({...d,uid_creacion:user.userData.id_usuario}))},[user]);const i=t.useCallback(()=>{h(`${c.product.products.url}?page_size=${u}&page_number=${l}`)},[h,l,u]);t.useEffect(()=>{i()},[l,i]);const j=s=>{const{name:d,value:C,type:N,checked:D}=s.target,$=N==="checkbox"?D?1:0:C;n(P=>({...P,[d]:$}))},v=s=>{s.preventDefault(),b(`${c.product.save.url}`,`${c.product.save.method}`,o)},y=()=>m(!0),k=()=>{n(p),m(!1)},S=s=>{s.preventDefault(),i()};return e.jsx(_,{children:e.jsxs("div",{className:"flex-1 w-full",children:[e.jsxs("section",{className:"bg-white px-4 pt-4 inline-flex justify-between items-center w-full border-b mb-4 ",children:[e.jsxs("h1",{className:"text-2xl font-semibold mb-1 pr-4 inline-flex items-center gap-2",children:[e.jsxs(M,{to:"/",children:[" ",r("home.title")]}),e.jsx(V,{}),e.jsx("span",{children:r("customers.title")})]}),e.jsx("span",{children:e.jsx("button",{className:"bg-orange-400 text-white p-1 shadow hover:scale-95",value:"refresh",onClick:i,children:e.jsx(E,{})})})]}),e.jsx("section",{className:"w-full bg-white divide-y border-b pb-4 mb-2.5",children:e.jsxs("section",{className:"w-full px-5 mx-auto flex justify-between items-center",children:[e.jsx("div",{className:"w-44",children:e.jsxs("button",{className:`inline-flex gap-4 max-w-32 rounded-sm w-full min-w-20 outline-green-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden capitalize group ${a?"bg-green-600/50":"bg-green-600 active:scale-95 shadow"}`,onClick:y,type:"submit",disabled:a,children:[e.jsx(F,{}),r("categories.new"),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${a?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("div",{className:"inline-flex",children:[e.jsx(q,{searchValue:f,setSearchValue:x}),e.jsxs("button",{className:`max-w-24 outline-sky-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${a?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,onClick:S,type:"button",disabled:a,children:[e.jsx(R,{}),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${a?"animate-shineInfinity":"group-hover:animate-shine"} `})]})]})]})}),e.jsx(L,{isOpen:g,onClose:k,children:e.jsx(T,{loading:a,formValues:o,setFormValue:n,handleChange:j,handleSubmit:v})})]})})};export{ee as default};
//# sourceMappingURL=CustomersPage-CE2XwedJ.js.map

import{P as a,r as x,j as e,m as _,h as C,u as z,b as S,c as I}from"./index-Bq4X5HoL.js";import{A as L,a as w}from"./useFetchDataStore-BQRNsoTt.js";import{u as q}from"./useCategoriesStore-Bz84186N.js";const v=({data:o,setFormValue:f,handleCategoriesRefresh:r,isModalOpen:p})=>{const[d,s]=x.useState([]),[n,u]=x.useState(!1),b=()=>{!n&&o.length==0&&r(),u(!n)},l=t=>{s(c=>c.some(m=>m.id_categoria===t.id_categoria)?c.filter(m=>m.id_categoria!==t.id_categoria):[...c,t])};return x.useEffect(()=>{f(t=>({...t,categorias:d}))},[d]),x.useEffect(()=>{console.log(p),p||s([])},[p]),e.jsxs("div",{className:"multi-select-container",children:[e.jsxs("div",{className:"selected-items",children:[d.map(t=>e.jsxs("span",{className:"selected-tag",children:[t.nombre,e.jsx("button",{type:"button",onClick:()=>l(t),className:"close-button",children:e.jsx(_,{})})]},t.id_categoria)),e.jsx("button",{type:"button",onClick:b,className:"dropdown-button font-semibold text-sm",children:n?"Close":"Open"}),e.jsx("span",{className:"pl-2",children:e.jsx("button",{className:"bg-orange-400 text-white p-1 shadow hover:scale-95",value:"refresh",onClick:r,children:e.jsx(C,{})})})]}),n&&e.jsx("ul",{className:"options-list",children:o.map(t=>e.jsx("li",{onClick:()=>l(t),className:d.some(c=>c.id_categoria===t.id_categoria)?"selected":"",children:e.jsx("span",{children:t.nombre})},t.id_categoria))})]})};v.propTypes={handleCategoriesRefresh:a.func,setFormValue:a.func,data:a.arrayOf(a.shape({id_categoria:a.number,name:a.string})),isModalOpen:a.bool};const A=({formValues:o,setFormValue:f,handleChange:r,handleSubmit:p,isModalOpen:d})=>{var h,g,m,j,y;const{t:s}=z(),{auth:n}=S(i=>({auth:i.auth})),{isLoading:u,setIsLoading:b}=I(i=>({isLoading:i.isLoading,setIsLoading:i.setIsLoading})),{categories:l,setCategories:t}=q(i=>({categories:i.categories,setCategories:i.setCategories}));x.useEffect(()=>{var N;let i=(N=n==null?void 0:n.userData)==null?void 0:N.id_usuario;f(k=>({...k,uid_creacion:i})),c()},[]);const c=i=>{i&&i.preventDefault(),L({setStore:t,url:`${w.category.categories.url}?page_size=25&page_number=1`,method:w.category.categories.method,setIsLoading:b})};return e.jsx(e.Fragment,{children:e.jsx("section",{className:"md:w-10/12 min-h-96 flex flex-col justify-between items-center mx-auto my-10 border",children:e.jsxs("form",{className:"w-full flex-1 justify-center items-center mx-4 p-10",children:[e.jsxs("div",{className:"flex justify-between items-center gap-4 w-full",children:[e.jsx("section",{className:"w-10/12 mx-auto inline-flex justify-start",children:e.jsxs("button",{className:`max-w-24 w-full min-w-20 outline-green-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${u?"bg-green-600/50":"bg-green-600 active:scale-95 shadow"}`,onClick:p,type:"submit",disabled:u,children:[s("products.save"),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${u?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("label",{className:"inline-flex flex-1 flex-col cursor-pointer",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:s("products.form.field.state")}),e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("input",{type:"checkbox",name:"estado",className:"px-2 py-1.5 border outline-none focus:border-sky-500 w-5 h-10 bg-slate-50",placeholder:s("products.form.field.state"),onChange:r,checked:o.estado===1,required:!0}),e.jsx("span",{className:"font-semibold text-sm px-2 py-1.5 w-16",children:o.estado===1?s("state.active"):s("state.inactive")})]})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4  ",children:[e.jsxs("label",{className:"flex-1 flex-col hidden",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:s("products.form.field.id")}),e.jsx("input",{type:"hidden",name:"id",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:s("products.form.field.id"),onChange:r,value:o.id,disabled:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:s("products.form.field.name")}),e.jsx("input",{type:"nombre",name:"nombre",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:s("products.form.field.name"),onChange:r,value:o.nombre,required:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col max-w-28",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:s("products.form.field.price")}),e.jsx("input",{type:"number",min:1,step:1,name:"precio",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50 text-right",placeholder:s("products.form.field.price"),onChange:r,value:o.precio,required:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col max-w-28",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:s("products.form.field.cost")}),e.jsx("input",{type:"number",min:1,step:1,name:"costo",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50 text-right",placeholder:s("products.form.field.cost"),onChange:r,value:o.costo,required:!1})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col hidden",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:s("products.form.field.created")}),e.jsx("input",{type:"hidden",name:"uid_creacion",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:s("products.form.field.created"),value:o.uid_creacion||((h=n==null?void 0:n.userData)==null?void 0:h.id_usuario),onChange:r,required:!0,disabled:!0})]})]}),e.jsxs("div",{className:"w-full py-4 my-4 border rounded",children:[e.jsx("label",{children:e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:s("categories.title")})}),e.jsx(v,{data:l&&((m=(g=l==null?void 0:l.data)==null?void 0:g.content)==null?void 0:m.length)>0&&((j=l==null?void 0:l.data)==null?void 0:j.content)!=null?(y=l==null?void 0:l.data)==null?void 0:y.content:[],handleCategoriesRefresh:c,setFormValue:f,isModalOpen:d})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"w-full inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:s("products.form.field.description")}),e.jsx("textarea",{type:"text",name:"descripcion",rows:"4",cols:"50",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:s("products.form.field.description"),onChange:r,value:o.descripcion,required:!0})]}),e.jsxs("label",{className:"w-full inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:s("products.form.field.comment")}),e.jsx("textarea",{rows:"3",cols:"50",name:"comentario",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:s("products.form.field.comment"),onChange:r,value:o.comentario})]})]})]})})})};A.propTypes={isLoading:a.bool,formValues:a.object,setFormValue:a.func,handleChange:a.func,handleSubmit:a.func,isModalOpen:a.bool};export{A as P};
//# sourceMappingURL=ProductForm-DcqckL9Y.js.map

import{c as M,b as _,r as t,u as z,d as A,j as s,e as L,M as V}from"./index-BSmjkZot.js";import{A as h}from"./Endpoints-DNNrLCYu.js";import{a as f}from"./TypesForm-DVNF-qTy.js";import{P as E}from"./ProductForm-BFUNZTWu.js";import{S as F}from"./SeachInput-cdWtYIqv.js";const O=M(o=>({invoices:[],setInvoices:i=>o({invoices:i})})),J=()=>{const{t:o}=_(),[i,n]=t.useState(f),[x,g]=t.useState(""),[l,T]=t.useState(1),[u,H]=t.useState(25),[b,p]=t.useState(!1),{user:r}=z(e=>({user:e.user}));O(e=>({setProduct:e.setProduct}));const{callApi:w,data:R,getData:v,refreshData:m,loading:a,error:Z}=A(e=>({callApi:e.callApi,data:e.data,getData:e.getData,refreshData:e.refreshData,loading:e.loading,error:e.error}));v(`${h.products.url}/list?page_size=${u}&page_number=${l}`),t.useEffect(()=>{var e;(e=r==null?void 0:r.userData)!=null&&e.id_usuario&&n(d=>({...d,uid_creacion:r.userData.id_usuario}))},[r]);const c=t.useCallback(()=>{m(`${h.products.url}/list?page_size=${u}&page_number=${l}`)},[m,l,u]);t.useEffect(()=>{c()},[l,c]);const j=e=>{const{name:d,value:D,type:N,checked:P}=e.target,$=N==="checkbox"?P?1:0:D;n(I=>({...I,[d]:$}))},C=e=>{e.preventDefault(),w(`${h.products.url}/save`,"PUT",i)},y=()=>p(!0),k=()=>{n(f),p(!1)},S=e=>{e.preventDefault(),c()};return s.jsx(L,{children:s.jsxs("div",{className:"flex-1 w-full",children:[s.jsxs("section",{className:"bg-white px-4 pt-4 inline-flex justify-between items-center w-full border-b mb-4 ",children:[s.jsx("h1",{className:"text-2xl font-semibold mb-1 pr-4",children:o("invoices.title")}),s.jsx("span",{children:s.jsx("button",{className:"bg-orange-400 text-white p-1",value:"refresh",onClick:c,children:s.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"16px",width:"16px",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"})})})})]}),s.jsx("section",{className:"w-full bg-white divide-y border-b pb-4 mb-2.5",children:s.jsxs("section",{className:"w-full px-5 mx-auto flex justify-between items-center",children:[s.jsx("div",{children:s.jsxs("button",{className:`max-w-24 w-full min-w-20 outline-green-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${a?"bg-green-600/50":"bg-green-600 active:scale-95 shadow"}`,onClick:y,type:"submit",disabled:a,children:[o("categories.new"),s.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${a?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),s.jsxs("div",{className:"inline-flex",children:[s.jsx(F,{searchValue:x,setSearchValue:g}),s.jsxs("button",{className:`max-w-24 w-full min-w-20 outline-sky-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${a?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,onClick:S,type:"button",disabled:a,children:[o("categories.search"),s.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${a?"animate-shineInfinity":"group-hover:animate-shine"} `})]})]})]})}),s.jsx(V,{isOpen:b,onClose:k,children:s.jsx(E,{loading:a,formValues:i,setFormValue:n,handleChange:j,handleSubmit:C})})]})})};export{J as default};
//# sourceMappingURL=InvoicesPage-B7qa8nm8.js.map

import{c as w,u as b,a as y,r as u,B as l,j as e}from"./index-D0n-Wpak.js";import{u as j}from"./useFetchDataStore-CkNUihHL.js";const p={categories:"https://fakestoreapi.com/products/categories",products:"https://fakestoreapi.com/products",products_by_category:"https://fakestoreapi.com/products/category/",login:"http://localhost:5193/api/Auth/login"},k=w(n=>({usuario:{response:[],content:[],token:[]},setUsuario:o=>n({usuario:o}),updateResponse:o=>n(r=>({usuario:{...r.usuario,response:o}})),updateContent:o=>n(r=>({usuario:{...r.usuario,content:o}})),updateToken:o=>n(r=>({usuario:{...r.usuario,token:o}}))})),v=()=>{const{login:n}=b(),o=y(),r=u.useRef(null),{usuario:d}=k(a=>({usuario:a.usuario})),{callApi:m,data:N,getData:f,loading:t,error:i}=j(a=>({callApi:a.callApi,data:a.data,getData:a.getData,loading:a.loading,error:a.error})),x=a=>{a.preventDefault();const c=new FormData(r.current),g=c.get("username"),h=c.get("password");m(p.login,"POST",{username:g,password:h})},s=f(p.login);return u.useEffect(()=>{if(console.log({loading:t}),!t&&s&&s.response&&s.response.length>0&&s.response[0].message){switch(s.response[0].result){case-1:l.error(`${s.response[0].message}`);break;case 0:l.warn(`${s.response[0].message}`);break;case 1:n({name:s.content[0].nombre,userData:s.content[0]}),o("/"),l.success(`${s.response[0].message}`);break;default:l.info(`${s.response[0].message}`)}console.log(s.response[0].message)}},[s,t]),t&&!d?(l.error("Enviado: autenticaci√≥n"),e.jsx(e.Fragment,{children:e.jsx("p",{className:"font-semibold text-dsPrimaryLight px-2 py-2 bg-slate-50 border",children:"Enviando..."})})):(i&&l.error(`Error: ${i}`),e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-white w-2/5 max-w-md  min-w-64 h-96 border p-4 shadow-md flex justify-center items-center",children:e.jsx("form",{ref:r,className:"w-full",children:e.jsxs("div",{className:"flex flex-col justify-between items-center gap-4 w-full ",children:[e.jsx("div",{children:e.jsx("span",{className:"font-semibold text-2xl",children:"Bienvenido"})}),e.jsxs("label",{className:"flex flex-col flex-now w-7/12",children:[e.jsx("span",{className:"w-full px-1 py-1.5 font-semibold",children:"Usuario"}),e.jsx("input",{type:"text",name:"username",placeholder:"Usuario",className:"border px-2 py-1.5 outline-none focus:outline-sky-600 focus:bg-sky-50"})]}),e.jsxs("label",{className:"flex flex-col flex-now w-7/12",children:[e.jsx("span",{className:"w-full px-1 py-1.5 font-semibold",children:"Clave"}),e.jsx("input",{type:"password",name:"password",placeholder:"Clave",className:"border px-2 py-1.5 outline-none focus:outline-sky-600 focus:bg-sky-50"})]}),e.jsx("div",{className:"flex flex-col flex-now justify-center items-center w-7/12 mx-auto mt-4",children:e.jsxs("button",{className:`max-w-72 w-full min-w-20 outline-sky-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${t?"bg-sky-600/50":"bg-sky-600 active:scale-95"}`,onClick:x,type:"submit",disabled:t,children:["Ingresar",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${t?"animate-shineInfinity":"group-hover:animate-shine"} `})]})})]})})})}))};function A(){return e.jsx("div",{className:"flex justify-center items-center w-screen h-screen",children:e.jsx(v,{})})}export{A as default};
//# sourceMappingURL=LoginPage-Ch2G2Z8g.js.map

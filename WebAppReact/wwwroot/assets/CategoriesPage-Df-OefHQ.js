import{c as V,P as x,b as g,j as e,r as m,u as E,B as f,L as F,M as P}from"./index-DEq9zoFe.js";import{u as _}from"./useFetchDataStore-B063Gq8Q.js";import{A as b}from"./Endpoints-DaXX02vq.js";const q=V(l=>({categories:[],setCategories:i=>l({categories:i})})),j={id:0,nombre:"",descripcion:"",estado:1,uid_creacion:"",comentario:""},N=({loading:l,formValues:i,handleChange:o,handleSubmit:c})=>{const{t:a}=g();return e.jsx(e.Fragment,{children:e.jsx("section",{className:"md:w-10/12 min-h-96 flex flex-col justify-between items-center mx-auto my-10 border",children:e.jsxs("form",{className:"flex flex-wrap justify-between items-center gap-x-4 p-10",children:[e.jsxs("div",{className:"flex justify-between items-center gap-4 w-full",children:[e.jsx("section",{className:"w-10/12 mx-auto inline-flex justify-start",children:e.jsxs("button",{className:`max-w-24 w-full min-w-20 outline-green-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${l?"bg-green-600/50":"bg-green-600 active:scale-95 shadow"}`,onClick:c,type:"submit",disabled:l,children:[a("categories.save"),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${l?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.state")}),e.jsx("input",{type:"checkbox",name:"estado",className:"px-2 py-1.5 border outline-none focus:border-sky-500 w-5 h-10 bg-slate-50",placeholder:a("categories.form.field.state"),onChange:o,value:i.estado,checked:!0,required:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[e.jsxs("label",{className:"flex-1 flex-col hidden",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.id")}),e.jsx("input",{type:"hidden",name:"id",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.id"),onChange:o,value:i.id,disabled:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.name")}),e.jsx("input",{type:"nombre",name:"nombre",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.name"),onChange:o,value:i.nombre,required:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.description")}),e.jsx("input",{type:"text",name:"descripcion",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.description"),onChange:o,value:i.descripcion,required:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col hidden",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.created")}),e.jsx("input",{type:"hidden",name:"uid_creacion",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.created"),value:Number(i.uid_creacion),onChange:o,required:!0,disabled:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.comment")}),e.jsx("textarea",{rows:"4",cols:"50",name:"comentario",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.comment"),onChange:o,value:i.comentario})]})]})]})})})};N.propTypes={loading:x.bool,formValues:x.object,handleChange:x.func,handleSubmit:x.func};const v=({searchValue:l,setSearchValue:i})=>{const{t:o}=g(),[c,a]=m.useState("");m.useEffect(()=>{const d=setTimeout(()=>{i(c.trim())},500);return()=>{clearTimeout(d)}},[c]);const p=d=>{d.preventDefault(),a(d.target.value)};return e.jsx("input",{type:"text",className:"border pl-2 outline-none focus:border-sky-400",value:c,onChange:p,placeholder:o("categories.search")})};v.propTypes={searchValue:x.string,setSearchValue:x.func};const H=()=>{const{t:l}=g(),[i,o]=m.useState(j),[c,a]=m.useState(""),{user:p}=E(s=>({user:s.user}));q(s=>({setCategory:s.setCategory}));const{callApi:d,data:O,getData:w,refreshData:B,loading:t,error:L}=_(s=>({callApi:s.callApi,data:s.data,getData:s.getData,refreshData:s.refreshData,loading:s.loading,error:s.error})),u=w(b.categories.url);m.useEffect(()=>{var n;const s=((n=p==null?void 0:p.userData)==null?void 0:n.id_usuario)||0;o(h=>({...h,uid_creacion:s}))},[d]);const k=s=>{s.preventDefault();const{name:n,value:h,type:I,checked:T}=s.target,A=I==="checkbox"?T?1:0:h;o(M=>({...M,[n]:A}))},$=s=>{s.preventDefault(),console.log(i);const n=i;console.log(n),d(`${b.categories.url}/save`,"PUT",n)},r=w(`${b.categories.url}/save`);m.useEffect(()=>{if(!t&&r&&r.response&&r.response.length>0&&r.response[0].message)switch(r.response[0].result){case-1:f.error(`${r.response[0].message}`);break;case 0:f.warn(`${r.response[0].message}`);break;case 1:f.success(`${r.response[0].message}`);break;default:f.info(`${r.response[0].message}`)}},[r]);const[z,y]=m.useState(!1),C=()=>y(!0),D=()=>{o(j),y(!1)},S=s=>{s.preventDefault(),console.log(c)};return e.jsx(F,{children:e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("section",{className:"bg-white px-4 py-4",children:e.jsx("h1",{className:"text-2xl font-semibold border-b pb-1 mb-4 ",children:l("categories.title")})}),e.jsx("section",{className:"w-full bg-white divide-y border-b pb-4 mb-2.5",children:e.jsxs("section",{className:"w-full px-5 mx-auto flex justify-between items-center",children:[e.jsx("div",{children:e.jsxs("button",{className:`max-w-24 w-full min-w-20 outline-green-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${t?"bg-green-600/50":"bg-green-600 active:scale-95 shadow"}`,onClick:C,type:"submit",disabled:t,children:[l("categories.new"),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${t?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("div",{className:"inline-flex",children:[e.jsx(v,{searchValue:c,setSearchValue:a}),e.jsxs("button",{className:`max-w-24 w-full min-w-20 outline-sky-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${t?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,onClick:S,type:"button",disabled:t,children:[l("categories.search"),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${t?"animate-shineInfinity":"group-hover:animate-shine"} `})]})]})]})}),e.jsx("section",{className:"md:w-10/12 lg:w-full min-h-96 flex flex-col justify-between items-center mx-auto ",children:e.jsxs("div",{className:"w-full h-96 flex justify-between items-center flex-col border mb-4 pb-2",children:[e.jsxs("article",{className:"w-full flex mx-auto border justify-between items-center gap-4 px-4 bg-gray-800 text-white",children:[e.jsxs("div",{className:"w-4/12 text-left",children:[e.jsx("span",{className:"capitalize font-semibold",children:l("categories.form.field.name")})," "]}),e.jsxs("div",{className:"w-4/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:l("categories.form.field.description")})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:l("categories.form.field.state")})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:l("categories.change")})," "]})]}),u&&u.map((s,n)=>e.jsxs("article",{className:`w-full flex mx-auto border justify-between items-center gap-4 px-4 text-slate-800 ${n%2==0?"bg-slate-100":"bg-slate-50"} `,children:[e.jsxs("div",{className:"w-4/12 text-left",children:[e.jsx("span",{className:"capitalize font-semibold",children:s.nombre})," "]}),e.jsxs("div",{className:"w-4/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:s.descripcion})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:s.estado})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:e.jsx("button",{type:"button",children:l("categories.change")})})," "]})]},`${s.id}${n}`)),e.jsx("footer",{className:"relative bottom-0  w-full lg:w-5/12 mx-auto flex justify-between items-center mt-4",children:e.jsxs("div",{className:"w-8/12 mx-auto flex justify-between items-center",children:[e.jsx("div",{className:"",children:e.jsxs("button",{className:`border text-white shadow font-semibold px-2 py-1.5 w-10 h-10 relative overflow-hidden group ${t?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,type:"button",disabled:t,children:["<",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${t?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsx("div",{className:"",children:e.jsxs("button",{className:`border text-white shadow font-semibold px-2 py-1.5 w-10 h-10 relative overflow-hidden group ${t?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,type:"button",disabled:t,children:["<<",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${t?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("div",{className:"border text-center",children:[e.jsx("select",{className:"w-16 h-10 px-2.5 py-1.5 text-sm font-semibold border-none focus:border-sky-400 text-center",children:e.jsx("option",{value:"1",children:"1"})}),e.jsx("span",{className:"w-16 h-10 px-2.5 py-1.5 text-sm ",children:"/"}),e.jsx("input",{className:"w-16 h-10 px-2.5 py-1.5 text-sm outline-none text-center",value:u.length,readOnly:!0,disabled:!0})]}),e.jsx("div",{className:"",children:e.jsxs("button",{className:`border text-white shadow font-semibold px-2 py-1.5 w-10 h-10 relative overflow-hidden group ${t?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,type:"button",disabled:t,children:[">>",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${t?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsx("div",{className:"",children:e.jsxs("button",{className:`border text-white shadow font-semibold px-2 py-1.5 w-10 h-10 relative overflow-hidden group ${t?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,type:"button",disabled:t,children:[">",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${t?"animate-shineInfinity":"group-hover:animate-shine"} `})]})})]})})]})}),e.jsx(P,{isOpen:z,onClose:D,children:e.jsx(N,{loading:t,formValues:i,handleChange:k,handleSubmit:$})})]})})};export{H as default};
//# sourceMappingURL=CategoriesPage-Df-OefHQ.js.map

import{P as t,r as u,j as e,m as C,h as z,u as S,b as I,c as L}from"./index-BixVhsTF.js";import"./SeachInput-Df7GhtDg.js";import{A as q,a as v}from"./useFetchDataStore-C822Wo31.js";import{u as A}from"./useCategoriesStore-b5A3i-RL.js";const k=({data:c,setFormValue:i,handleCategoriesRefresh:p,isModalOpen:a})=>{const[d,f]=u.useState([]),[l,r]=u.useState(!1),g=()=>{!l&&c.length==0&&p(),r(!l)},x=s=>{f(n=>n.some(m=>m.id_categoria===s.id_categoria)?n.filter(m=>m.id_categoria!==s.id_categoria):[...n,s])};return u.useEffect(()=>{i(s=>({...s,categorias:d}))},[d]),u.useEffect(()=>{console.log(a),a||f([])},[a]),e.jsxs("div",{className:"multi-select-container",children:[e.jsxs("div",{className:"selected-items",children:[d.map(s=>e.jsxs("span",{className:"selected-tag",children:[s.nombre,e.jsx("button",{type:"button",onClick:()=>x(s),className:"close-button",children:e.jsx(C,{})})]},s.id_categoria)),e.jsx("button",{type:"button",onClick:g,className:"dropdown-button font-semibold text-sm",children:l?"Close":"Open"}),e.jsx("span",{className:"pl-2",children:e.jsx("button",{className:"bg-orange-400 text-white p-1 shadow hover:scale-95",value:"refresh",onClick:p,children:e.jsx(z,{})})})]}),l&&e.jsx("ul",{className:"options-list",children:c.map(s=>e.jsx("li",{onClick:()=>x(s),className:d.some(n=>n.id_categoria===s.id_categoria)?"selected":"",children:e.jsx("span",{children:s.nombre})},s.id_categoria))})]})};k.propTypes={handleCategoriesRefresh:t.func,setFormValue:t.func,data:t.arrayOf(t.shape({id_categoria:t.number,name:t.string})),isModalOpen:t.bool};const D=({loading:c,formValues:i,setFormValue:p,handleChange:a,handleSubmit:d,isModalOpen:f})=>{var h,m,j,y,N;const{t:l}=S(),{auth:r}=I(o=>({auth:o.auth})),{isLoading:g,setIsLoading:x}=L(o=>({isLoading:o.isLoading,setIsLoading:o.setIsLoading})),{categories:s,setCategories:n}=A(o=>({categories:o.categories,setCategories:o.setCategories}));u.useEffect(()=>{var w;let o=(w=r==null?void 0:r.userData)==null?void 0:w.id_usuario;p(_=>({..._,uid_creacion:o})),b()},[]);const b=o=>{o&&o.preventDefault(),q({setStore:n,url:`${v.category.categories.url}?page_size=25&page_number=1`,method:v.category.categories.method,setIsLoading:x})};return e.jsx(e.Fragment,{children:e.jsx("section",{className:"md:w-10/12 min-h-96 flex flex-col justify-between items-center mx-auto my-10 border",children:e.jsxs("form",{className:"w-full flex-1 justify-center items-center mx-4 p-10",children:[e.jsxs("div",{className:"flex justify-between items-center gap-4 w-full",children:[e.jsx("section",{className:"w-10/12 mx-auto inline-flex justify-start",children:e.jsxs("button",{className:`max-w-24 w-full min-w-20 outline-green-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${c?"bg-green-600/50":"bg-green-600 active:scale-95 shadow"}`,onClick:d,type:"submit",disabled:c,children:[l("products.save"),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${c?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:l("products.form.field.state")}),e.jsx("input",{type:"checkbox",name:"estado",className:"px-2 py-1.5 border outline-none focus:border-sky-500 w-5 h-10 bg-slate-50",placeholder:l("products.form.field.state"),onChange:a,checked:i.estado===1,required:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4  ",children:[e.jsxs("label",{className:"flex-1 flex-col hidden",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:l("products.form.field.id")}),e.jsx("input",{type:"hidden",name:"id",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:l("products.form.field.id"),onChange:a,value:i.id,disabled:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:l("products.form.field.name")}),e.jsx("input",{type:"nombre",name:"nombre",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:l("products.form.field.name"),onChange:a,value:i.nombre,required:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col max-w-28",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:l("products.form.field.price")}),e.jsx("input",{type:"number",min:1,step:1,name:"precio",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50 text-right",placeholder:l("products.form.field.price"),onChange:a,value:i.precio,required:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col max-w-28",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:l("products.form.field.cost")}),e.jsx("input",{type:"number",min:1,step:1,name:"costo",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50 text-right",placeholder:l("products.form.field.cost"),onChange:a,value:i.costo,required:!1})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col hidden",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:l("products.form.field.created")}),e.jsx("input",{type:"hidden",name:"uid_creacion",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:l("products.form.field.created"),value:i.uid_creacion||((h=r==null?void 0:r.userData)==null?void 0:h.id_usuario),onChange:a,required:!0,disabled:!0})]})]}),e.jsxs("div",{className:"w-full py-4 my-4 border rounded",children:[e.jsx("label",{children:e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:l("categories.title")})}),e.jsx(k,{data:s&&((j=(m=s==null?void 0:s.data)==null?void 0:m.content)==null?void 0:j.length)>0&&((y=s==null?void 0:s.data)==null?void 0:y.content)!=null?(N=s==null?void 0:s.data)==null?void 0:N.content:[],handleCategoriesRefresh:b,setFormValue:p,isModalOpen:f})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"w-full inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:l("products.form.field.description")}),e.jsx("textarea",{type:"text",name:"descripcion",rows:"4",cols:"50",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:l("products.form.field.description"),onChange:a,value:i.descripcion,required:!0})]}),e.jsxs("label",{className:"w-full inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:l("products.form.field.comment")}),e.jsx("textarea",{rows:"3",cols:"50",name:"comentario",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:l("products.form.field.comment"),onChange:a,value:i.comentario})]})]})]})})})};D.propTypes={loading:t.bool,formValues:t.object,setFormValue:t.func,handleChange:t.func,handleSubmit:t.func,isModalOpen:t.bool};export{D as P};
//# sourceMappingURL=ProductForm-ft2OopYq.js.map

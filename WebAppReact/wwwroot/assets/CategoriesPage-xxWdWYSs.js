import{c as U,P as f,b as M,u as T,r as c,j as e,d as B,e as W,L as G,M as J}from"./index-CBYe1poJ.js";import{A as y}from"./Endpoints-DNNrLCYu.js";import{T as D,s as K}from"./TypesForm-DVNF-qTy.js";import{I as Q,a as X,b as Y,c as Z,S as ee,d as se}from"./SeachInput-mVfd0do3.js";const te=U(n=>({categories:[],setCategories:i=>n({categories:i})})),A=({loading:n,formValues:i,setFormValue:m,handleChange:d,handleSubmit:b})=>{const{t:a}=M(),{user:r}=T(x=>({user:x.user}));return c.useEffect(()=>{var h;let x=(h=r==null?void 0:r.userData)==null?void 0:h.id_usuario;m(p=>({...p,uid_creacion:x}))},[]),e.jsx(e.Fragment,{children:e.jsx("section",{className:"md:w-10/12 min-h-96 flex flex-col justify-between items-center mx-auto my-10 border",children:e.jsxs("form",{className:"flex flex-wrap justify-between items-center gap-x-4 p-10",children:[e.jsxs("div",{className:"flex justify-between items-center gap-4 w-full",children:[e.jsx("section",{className:"w-10/12 mx-auto inline-flex justify-start",children:e.jsxs("button",{className:`inline-flex gap-4 max-w-32 rounded-sm w-full min-w-20 outline-green-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden capitalize group ${n?"bg-green-600/50":"bg-green-600 active:scale-95 shadow"}`,onClick:b,type:"submit",disabled:n,children:[e.jsx("span",{children:e.jsx(Q,{})}),e.jsx("span",{children:i.id==0?a("categories.save"):a("categories.change")}),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${n?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.state")}),e.jsx("input",{type:"checkbox",name:"estado",className:"px-2 py-1.5 border outline-none focus:border-sky-500 w-5 h-10 bg-slate-50",placeholder:a("categories.form.field.state"),onChange:d,checked:i.estado===1,required:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[e.jsxs("label",{className:"flex-1 flex-col hidden",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.id")}),e.jsx("input",{type:"hidden",name:"id",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.id"),onChange:d,value:i.id,disabled:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.name")}),e.jsx("input",{type:"nombre",name:"nombre",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.name"),onChange:d,value:i.nombre,required:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.description")}),e.jsx("input",{type:"text",name:"descripcion",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.description"),onChange:d,value:i.descripcion,required:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col hidden",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.created")}),e.jsx("input",{type:"hidden",name:"uid_creacion",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.created"),value:i.uid_creacion,onChange:d,required:!0,disabled:!0})]}),e.jsxs("label",{className:"inline-flex flex-1 flex-col",children:[e.jsx("span",{className:"capitalize font-semibold text-sm py-1.5",children:a("categories.form.field.comment")}),e.jsx("textarea",{rows:"4",cols:"50",name:"comentario",className:"px-2 py-1.5 border outline-none focus:border-sky-500 bg-slate-50",placeholder:a("categories.form.field.comment"),onChange:d,value:i.comentario})]})]})]})})})};A.propTypes={loading:f.bool,formValues:f.object,setFormValue:f.func,handleChange:f.func,handleSubmit:f.func};const ce=()=>{var k,z,C,$,_,I,S;const{t:n}=M(),[i,m]=c.useState(D),[d,b]=c.useState(""),[a,r]=c.useState(1);c.useState(25);const[x,h]=c.useState(!1),{user:p}=T(t=>({user:t.user}));te(t=>({setCategory:t.setCategory}));const{callApi:F,data:ae,getData:P,refreshData:v,loading:l,error:le}=B(t=>({callApi:t.callApi,data:t.data,getData:t.getData,refreshData:t.refreshData,loading:t.loading,error:t.error})),s=P(`${y.categories.url}/list?page_size=25&page_number=${a}`);c.useEffect(()=>{var t;(t=p==null?void 0:p.userData)!=null&&t.id_usuario&&m(o=>({...o,uid_creacion:p.userData.id_usuario}))},[p]);const u=c.useCallback(()=>{v(`${y.categories.url}/list?page_size=25&page_number=${a}`)},[v,a]);c.useEffect(()=>{u()},[a,u]);const E=t=>{const{name:o,value:g,type:w,checked:j}=t.target,R=w==="checkbox"?j?1:0:g;m(H=>({...H,[o]:R}))},L=t=>{t.preventDefault(),F(`${y.categories.url}/save`,"PUT",i)},N=()=>h(!0),V=()=>{m(D),h(!1)},q=t=>{t.preventDefault(),u()},O=t=>{const o=t.currentTarget.value,g=s.content.find(j=>j.id_categoria===Number(o)),w=K(g);m(w),N()};return e.jsx(W,{children:e.jsxs("div",{className:"flex-1 w-full",children:[e.jsxs("section",{className:"bg-white px-4 pt-4 inline-flex justify-between items-center w-full border-b mb-4 ",children:[e.jsxs("h1",{className:"text-2xl font-semibold mb-1 pr-4 inline-flex items-center gap-2",children:[e.jsxs(G,{to:"/",children:[" ",n("home.title")]}),e.jsx(X,{}),e.jsx("span",{}),n("categories.title")]}),e.jsx("span",{children:e.jsx("button",{className:"bg-orange-400 text-white p-1 shadow hover:scale-95",value:"refresh",onClick:u,children:e.jsx(Y,{})})})]}),e.jsx("section",{className:"w-full bg-white divide-y border-b pb-4 mb-2.5",children:e.jsxs("section",{className:"w-full px-2.5 mx-auto flex justify-between items-center",children:[e.jsx("div",{className:"w-44",children:e.jsxs("button",{className:`inline-flex gap-4 max-w-32 rounded-sm w-full min-w-20 outline-green-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden capitalize group ${l?"bg-green-600/50":"bg-green-600 active:scale-95 shadow"}`,onClick:N,type:"submit",disabled:l,children:[e.jsx("span",{children:e.jsx(Z,{})}),e.jsx("span",{children:n("categories.new")}),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${l?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("div",{className:"inline-flex",children:[e.jsx(ee,{searchValue:d,setSearchValue:b}),e.jsxs("button",{className:`max-w-24 rounded-r outline-sky-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden capitalize group ${l?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,onClick:q,type:"button",disabled:l,children:[e.jsx(se,{}),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${l?"animate-shineInfinity":"group-hover:animate-shine"} `})]})]})]})}),e.jsxs("section",{className:"md:w-11/12 lg:w-full min-h-96 flex flex-col justify-between items-center mx-auto ",children:[e.jsxs("div",{className:"w-full h-96 flex justify-start items-center flex-col border mb-4 pb-2",children:[e.jsxs("article",{className:"w-full flex mx-auto border justify-between items-center gap-4 px-4 bg-gray-800 text-white",children:[e.jsxs("div",{className:"w-4/12 text-left",children:[e.jsx("span",{className:"capitalize font-semibold",children:n("categories.form.field.name")})," "]}),e.jsxs("div",{className:"w-4/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:n("categories.form.field.description")})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:n("categories.form.field.state")})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:n("categories.change")})," "]})]}),e.jsx("article",{className:"overflow-y-scroll h-96 w-full",children:s&&((k=s==null?void 0:s.content)==null?void 0:k.length)>0&&s.content.map((t,o)=>e.jsxs("div",{className:`w-full flex mx-auto border justify-between items-center  gap-4 px-4 py-2.5 text-slate-800 ${o%2==0?"bg-slate-100":"bg-white"} `,children:[e.jsxs("div",{className:"w-4/12 text-left",children:[e.jsx("span",{className:"capitalize font-semibold",children:t.nombre})," "]}),e.jsxs("div",{className:"w-4/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:t.descripcion||"-"})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:t.estado})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:e.jsxs("button",{value:t.id_categoria,className:`max-w-24 rounded-sm text-xs outline-orange-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden capitalize group ${l?"bg-orange-600/50":"bg-orange-600 active:scale-95 shadow"}`,onClick:O,type:"button",disabled:l,children:[e.jsx("span",{children:e.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"20px",width:"20px",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"})})}),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${l?"animate-shineInfinity":"group-hover:animate-shine"} `})]})})," "]})]},`${t.id_categoria}${o}`))})]}),e.jsx("footer",{className:"relative bottom-0  w-full lg:w-5/12 mx-auto flex justify-between items-center mt-4",children:e.jsxs("div",{className:"w-8/12 mx-auto flex justify-between items-center",children:[e.jsx("div",{className:"",children:e.jsxs("button",{className:`border text-white shadow font-semibold px-2 py-1.5 w-10 h-10 relative overflow-hidden group  ${a>1&&!l?"bg-sky-600 active:scale-95 shadow":"bg-sky-600/50"}`,type:"button",onClick:()=>r(t=>Math.max(1,t-1)),disabled:l||a===1,children:["<",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${l?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsx("div",{className:"",children:e.jsxs("button",{className:`border text-white shadow font-semibold px-2 py-1.5 w-10 h-10 relative overflow-hidden group ${a>1&&!l?"bg-sky-600 active:scale-95 shadow":"bg-sky-600/50"}`,type:"button",onClick:()=>r(1),disabled:l||a===1,children:["<<",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${l?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("div",{className:"border text-center",children:[e.jsx("select",{className:"w-16 h-10 px-2.5 py-1.5 text-sm font-semibold border-none focus:border-sky-400 text-center",value:a,onChange:t=>r(parseInt(t.target.value,10)),children:s&&((z=s==null?void 0:s.response)==null?void 0:z.length)>0&&[...Array(s.response[0].total_pages).keys()].map(t=>e.jsx("option",{value:t+1,children:t+1},t+1))}),e.jsx("span",{className:"w-16 h-10 px-2.5 py-1.5 text-sm ",children:"/"}),e.jsx("input",{className:"w-16 h-10 px-2.5 py-1.5 text-sm outline-none text-center",value:s&&((C=s==null?void 0:s.response)==null?void 0:C.length)>0&&s.response[0].total_pages,readOnly:!0,disabled:!0})]}),e.jsx("div",{className:"",children:e.jsxs("button",{className:`border text-white shadow font-semibold px-2 py-1.5 w-10 h-10 relative overflow-hidden group ${a<(s&&(($=s==null?void 0:s.response)==null?void 0:$.length)>0&&s.response[0].total_pages)&&!l?"bg-sky-600 active:scale-95 shadow":"bg-sky-600/50"}`,type:"button",onClick:()=>{var t;return r(s&&((t=s==null?void 0:s.response)==null?void 0:t.length)>0&&s.response[0].total_pages)},disabled:l||a==s&&((_=s==null?void 0:s.response)==null?void 0:_.length)>0&&s.response[0].total_pages,children:[">>",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${l?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsx("div",{className:"",children:e.jsxs("button",{className:`border text-white shadow font-semibold px-2 py-1.5 w-10 h-10 relative overflow-hidden group ${a<(s&&((I=s==null?void 0:s.response)==null?void 0:I.length)>0&&s.response[0].total_pages)&&!l?"bg-sky-600 active:scale-95 shadow":"bg-sky-600/50"}`,type:"button",onClick:()=>{console.log(a),r(t=>{var o;return Math.min(s&&((o=s==null?void 0:s.response)==null?void 0:o.length)>0&&s.response[0].total_pages,t+1)})},disabled:l||a==s&&((S=s==null?void 0:s.response)==null?void 0:S.length)>0&&s.response[0].total_pages,children:[">",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${l?"animate-shineInfinity":"group-hover:animate-shine"} `})]})})]})})]}),e.jsx(J,{isOpen:x,onClose:V,children:e.jsx(A,{loading:l,formValues:i,setFormValue:m,handleChange:E,handleSubmit:L})})]})})};export{ce as default};
//# sourceMappingURL=CategoriesPage-xxWdWYSs.js.map

import{c as w,u as b,a as j,r as m,B as i,j as e,L as y}from"./index-DNAOhUU0.js";import{A as l}from"./Endpoints-DaXX02vq.js";import{u as k}from"./useFetchDataStore-Cln2Mnoz.js";const v=w(t=>({usuario:{response:[],content:[],token:[]},setUsuario:a=>t({usuario:a}),updateResponse:a=>t(r=>({usuario:{...r.usuario,response:a}})),updateContent:a=>t(r=>({usuario:{...r.usuario,content:a}})),updateToken:a=>t(r=>({usuario:{...r.usuario,token:a}}))})),N=()=>{const{login:t}=b(),a=j(),r=m.useRef(null),{usuario:d}=v(o=>({usuario:o.usuario})),{callApi:p,data:D,getData:x,loading:n,error:c}=k(o=>({callApi:o.callApi,data:o.data,getData:o.getData,loading:o.loading,error:o.error})),f=o=>{o.preventDefault();const u=new FormData(r.current),g=u.get("username"),h=u.get("password");p(l.login.url,l.login.method,{username:g,password:h})},s=x(l.login.url);return m.useEffect(()=>{if(console.log({loading:n}),!n&&s&&s.response&&s.response.length>0&&s.response[0].message){switch(s.response[0].result){case-1:i.error(`${s.response[0].message}`);break;case 0:i.warn(`${s.response[0].message}`);break;case 1:t({name:s.content[0].nombre,userData:s.content[0],token:s.token[0]}),a("/"),i.success(`${s.response[0].message}`);break;default:i.info(`${s.response[0].message}`)}console.log(s.response[0].message)}},[s,n]),n&&!d?(i.error("Enviado: autenticaci√≥n"),e.jsx(e.Fragment,{children:e.jsx("p",{className:"font-semibold text-dsPrimaryLight px-2 py-2 bg-slate-50 border",children:"Enviando..."})})):(c&&i.error(`Error: ${c}`),e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-white w-2/5 max-w-md min-w-80 h-96 border shadow-md flex justify-center items-center",children:e.jsx("form",{ref:r,className:"w-full",children:e.jsxs("div",{className:"w-full flex flex-col justify-between items-center gap-y-2.5",children:[e.jsx("div",{children:e.jsx("span",{className:"font-semibold text-2xl",children:"Bienvenido"})}),e.jsxs("label",{className:"flex flex-col flex-now w-7/12",children:[e.jsx("span",{className:"w-full px-1 py-1.5 font-semibold",children:"Usuario"}),e.jsx("input",{type:"text",name:"username",placeholder:"Usuario",className:"border px-2 py-1.5 outline-none focus:outline-sky-600 focus:bg-sky-50"})]}),e.jsxs("label",{className:"flex flex-col flex-now w-7/12",children:[e.jsx("span",{className:"w-full px-1 py-1.5 font-semibold",children:"Clave"}),e.jsx("input",{type:"password",name:"password",placeholder:"Clave",className:"border px-2 py-1.5 outline-none focus:outline-sky-600 focus:bg-sky-50"})]}),e.jsx("div",{className:"w-8/12 mx-auto text-right px-4",children:e.jsx(y,{to:"/register",className:"font-medium text-sm text-sky-700 capitalize cursor-pointer",children:"registrarse"})}),e.jsx("div",{className:"flex flex-col flex-now justify-center items-center w-7/12 mx-auto mt-4",children:e.jsxs("button",{className:`max-w-72 w-full min-w-20 outline-sky-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${n?"bg-sky-600/50":"bg-sky-600 active:scale-95"}`,onClick:f,type:"submit",disabled:n,children:["Enviar",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${n?"animate-shineInfinity":"group-hover:animate-shine"} `})]})})]})})})}))};function A(){return e.jsx("div",{className:"flex justify-center items-center w-screen h-screen",children:e.jsx(N,{})})}export{A as default};
//# sourceMappingURL=LoginPage-B956rYKu.js.map

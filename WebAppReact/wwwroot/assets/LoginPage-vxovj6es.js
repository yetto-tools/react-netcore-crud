import{c as w,u as b,a as j,r as m,B as l,j as e}from"./index-DEq9zoFe.js";import{A as i}from"./Endpoints-DaXX02vq.js";import{u as y}from"./useFetchDataStore-B063Gq8Q.js";const k=w(t=>({usuario:{response:[],content:[],token:[]},setUsuario:o=>t({usuario:o}),updateResponse:o=>t(n=>({usuario:{...n.usuario,response:o}})),updateContent:o=>t(n=>({usuario:{...n.usuario,content:o}})),updateToken:o=>t(n=>({usuario:{...n.usuario,token:o}}))})),v=()=>{const{login:t}=b(),o=j(),n=m.useRef(null),{usuario:d}=k(a=>({usuario:a.usuario})),{callApi:p,data:N,getData:f,loading:r,error:c}=y(a=>({callApi:a.callApi,data:a.data,getData:a.getData,loading:a.loading,error:a.error})),x=a=>{a.preventDefault();const u=new FormData(n.current),g=u.get("username"),h=u.get("password");p(i.login.url,i.login.method,{username:g,password:h})},s=f(i.login.url);return m.useEffect(()=>{if(console.log({loading:r}),!r&&s&&s.response&&s.response.length>0&&s.response[0].message){switch(s.response[0].result){case-1:l.error(`${s.response[0].message}`);break;case 0:l.warn(`${s.response[0].message}`);break;case 1:t({name:s.content[0].nombre,userData:s.content[0],token:s.token[0]}),o("/"),l.success(`${s.response[0].message}`);break;default:l.info(`${s.response[0].message}`)}console.log(s.response[0].message)}},[s,r]),r&&!d?(l.error("Enviado: autenticaci√≥n"),e.jsx(e.Fragment,{children:e.jsx("p",{className:"font-semibold text-dsPrimaryLight px-2 py-2 bg-slate-50 border",children:"Enviando..."})})):(c&&l.error(`Error: ${c}`),e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-white w-2/5 max-w-md  min-w-64 h-96 border p-4 shadow-md flex justify-center items-center",children:e.jsx("form",{ref:n,className:"w-full",children:e.jsxs("div",{className:"flex flex-col justify-between items-center gap-4 w-full ",children:[e.jsx("div",{children:e.jsx("span",{className:"font-semibold text-2xl",children:"Bienvenido"})}),e.jsxs("label",{className:"flex flex-col flex-now w-7/12",children:[e.jsx("span",{className:"w-full px-1 py-1.5 font-semibold",children:"Usuario"}),e.jsx("input",{type:"text",name:"username",placeholder:"Usuario",className:"border px-2 py-1.5 outline-none focus:outline-sky-600 focus:bg-sky-50"})]}),e.jsxs("label",{className:"flex flex-col flex-now w-7/12",children:[e.jsx("span",{className:"w-full px-1 py-1.5 font-semibold",children:"Clave"}),e.jsx("input",{type:"password",name:"password",placeholder:"Clave",className:"border px-2 py-1.5 outline-none focus:outline-sky-600 focus:bg-sky-50"})]}),e.jsx("div",{className:"flex flex-col flex-now justify-center items-center w-7/12 mx-auto mt-4",children:e.jsxs("button",{className:`max-w-72 w-full min-w-20 outline-sky-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${r?"bg-sky-600/50":"bg-sky-600 active:scale-95"}`,onClick:x,type:"submit",disabled:r,children:["Ingresar",e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${r?"animate-shineInfinity":"group-hover:animate-shine"} `})]})})]})})})}))};function E(){return e.jsx("div",{className:"flex justify-center items-center w-screen h-screen",children:e.jsx(v,{})})}export{E as default};
//# sourceMappingURL=LoginPage-vxovj6es.js.map

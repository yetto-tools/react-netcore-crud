import{l as G,P as d,u as _,j as e,f as q,r as l,b as B,c as H,e as J,L as K,g as Q,h as W,i as X,k as Y,M as Z}from"./index-DvwukcQr.js";import{A as L,a as $}from"./useFetchDataStore-Q1Ss8ImU.js";import{a as D,b as ee}from"./TypesForm-D81Up11P.js";import{P as te}from"./ProductForm-ZMYPYBpf.js";import{S as se}from"./SeachInput-D7_5WBWg.js";import{P as ae}from"./Pagination-BHiZjbH-.js";import"./useCategoriesStore-VhlBsYxj.js";const ne=G(a=>({products:[],setProducts:n=>a({productos:n})})),C=({children:a})=>{const{t:n}=_();return e.jsxs(e.Fragment,{children:[e.jsxs("article",{className:"w-full flex mx-auto border justify-between items-center gap-4 px-4 bg-gray-800 text-white",children:[e.jsxs("div",{className:"w-4/12 text-left",children:[e.jsx("span",{className:"capitalize font-semibold",children:n("products.form.field.name")})," "]}),e.jsxs("div",{className:"w-4/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:n("products.form.field.description")})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:n("products.form.field.state")})," "]}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:n("products.change")})," "]})]}),e.jsx("article",{className:"overflow-y-scroll h-96 w-full",children:a})]})},T=({t:a,products:n,handleUpdate:i,loading:m})=>e.jsx(e.Fragment,{children:n.map((r,c)=>e.jsxs("div",{className:`w-full flex mx-auto border justify-between items-center  gap-4 px-4 py-2.5 text-slate-800 ${c%2==0?"bg-slate-100":"bg-white"} `,children:[e.jsxs("div",{className:"w-4/12 text-left",children:[e.jsx("span",{className:"capitalize font-semibold",children:r.nombre})," "]}),e.jsxs("div",{className:"w-4/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:r.descripcion||"-"})," "]}),e.jsx("div",{className:"w-2/12 text-center",children:e.jsx("span",{className:"capitalize text-center font-semibold inline-flex justify-center w-full items-center",children:r.estado==1?e.jsx("span",{className:"text-center border rounded-full px-2 text-xs text-sky-700 bg-sky-200 border-sky-700 font-semibold",children:a("state.active")}):e.jsx("span",{className:"text-center border rounded-full px-2 text-xs text-gray-700 bg-gray-200 border-gray-700 font-semibold",children:a("state.inactive")})})}),e.jsxs("div",{className:"w-2/12 text-center",children:[e.jsx("span",{className:"capitalize font-semibold",children:e.jsxs("button",{value:r.id_categoria,className:`max-w-24 rounded-sm text-xs outline-orange-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden capitalize group ${m?"bg-orange-600/50":"bg-orange-600 active:scale-95 shadow"}`,onClick:i,type:"button",disabled:m,children:[e.jsx("span",{children:e.jsx(q,{})}),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${m?"animate-shineInfinity":"group-hover:animate-shine"} `})]})})," "]})]},`${r.id_categoria}${c}`))});C.propTypes={children:d.node};T.propTypes={t:d.func,products:d.any,handleUpdate:d.func,loading:d.bool,index:d.number};function oe(a){return new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4,useGrouping:!1}).format(a)}const he=()=>{var y,P,k,I,S,z,F;const{t:a}=_(),[n,i]=l.useState(D),[m,r]=l.useState(""),[c,ie]=l.useState(1);l.useState(25);const[j,w]=l.useState(!1),{auth:u}=B(s=>({auth:s.auth})),{isLoading:o,setIsLoading:V}=H(s=>({isLoading:s.isLoading,setIsLoading:s.setIsLoading})),{products:t,setProducts:N}=ne(s=>({setProducts:s.setProducts}));l.useEffect(()=>{var s;(s=u==null?void 0:u.userData)!=null&&s.id_usuario&&i(x=>({...x,uid_creacion:u.userData.id_usuario}))},[u]);const p=l.useCallback(()=>{L({setStore:N,url:`${$.product.products.url}?page_size=25&page_number=${c}`,method:$.product.products.method,setIsLoading:V})},[L,c]);l.useEffect(()=>{p()},[c,p]);const M=s=>{const{name:x,value:h,type:f,checked:b}=s.target,g=f==="checkbox"?b?1:0:h;f==="number"&&oe(h),i(U=>({...U,[x]:g}))},E=s=>{s.preventDefault(),console.log(n)},v=()=>w(!0),A=()=>{i(D),w(!1)},R=s=>{s.preventDefault(),p()},O=s=>{var b;const x=s.currentTarget.value,h=(b=t==null?void 0:t.data)==null?void 0:b.content.find(g=>g.id_producto===Number(x)),f=ee(h);i(f),v()};return e.jsx(J,{children:e.jsxs("div",{className:"flex-1 w-full",children:[e.jsxs("section",{className:"bg-white px-4 pt-4 inline-flex justify-between items-center w-full border-b mb-4 ",children:[e.jsxs("h1",{className:"text-2xl font-semibold mb-1 pr-4 inline-flex items-center gap-2",children:[e.jsxs(K,{to:"/",children:[" ",a("home.title")]}),e.jsx(Q,{}),e.jsx("span",{children:a("products.title")})]}),e.jsx("span",{children:e.jsx("button",{className:"bg-orange-400 text-white p-1 shadow hover:scale-95",value:"refresh",onClick:p,children:e.jsx(W,{})})})]}),e.jsx("section",{className:"w-full bg-white divide-y border-b pb-4 mb-2.5",children:e.jsxs("section",{className:"w-full px-5 mx-auto flex justify-between items-center",children:[e.jsx("div",{className:"w-44",children:e.jsxs("button",{className:`inline-flex gap-4 max-w-32 rounded-sm w-full min-w-20 outline-green-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden capitalize group ${o?"bg-green-600/50":"bg-green-600 active:scale-95 shadow"}`,onClick:v,type:"submit",disabled:o,children:[e.jsx(X,{}),a("categories.new"),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${o?"animate-shineInfinity":"group-hover:animate-shine"} `})]})}),e.jsxs("div",{className:"inline-flex",children:[e.jsx(se,{searchValue:m,setSearchValue:r}),e.jsxs("button",{className:`max-w-24 outline-sky-400 px-2.5 py-1.5 text-white font-semibold relative overflow-hidden group ${o?"bg-sky-600/50":"bg-sky-600 active:scale-95 shadow"}`,onClick:R,type:"button",disabled:o,children:[e.jsx(Y,{}),e.jsx("div",{className:`absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-40 ${o?"animate-shineInfinity":"group-hover:animate-shine"} `})]})]})]})}),e.jsxs("section",{className:"md:w-11/12 lg:w-full min-h-96 flex flex-col justify-between items-center mx-auto ",children:[e.jsx("div",{className:"w-full flex h-5/6  min-h-96 justify-start items-center flex-col border mb-4 pb-2",children:e.jsx(C,{children:e.jsx(T,{t:a,products:t&&((P=(y=t==null?void 0:t.data)==null?void 0:y.content)==null?void 0:P.length)>0&&((k=t==null?void 0:t.data)==null?void 0:k.content)!=null?(I=t==null?void 0:t.data)==null?void 0:I.content:[],handleUpdate:O,loading:o})})}),e.jsx(ae,{page:c,totalPages:t&&((z=(S=t==null?void 0:t.data)==null?void 0:S.response)==null?void 0:z.length)>0?(F=t==null?void 0:t.data)==null?void 0:F.response[0].total_pages:0,setPage:N,loading:o})]}),e.jsx(Z,{isOpen:j,onClose:A,children:e.jsx(te,{loading:o,formValues:n,setFormValue:i,handleChange:M,handleSubmit:E,isModalOpen:j})})]})})};export{he as default};
//# sourceMappingURL=ProductsPage-DzVGcsfj.js.map
